{"anonymous":false,"attributes":[],"bridgedResources":[{"model":"Submissions","name":"All Submissions by Kapp","order":[],"parameters":[{"mapping":"${values('kapp')}","name":"kapp"}],"qualification":"All Submissions by Kapp","status":"Active"}],"categorizations":[],"createdAt":"2016-01-07T21:11:05.763Z","createdBy":"brian.peterson@kineticdata.com","customHeadContent":"\n<script type='text/javascript' src='/kinetic/app/bundles/kdsearch/request-ce-bundle-base/libraries/kinetic-search/js/search.js'></script>\n<!-- DataTables CSS-->\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/kinetic/app/thirdparty/datatables/media/css/jquery.dataTables.min.css\"> \n<!--<link rel=\"stylesheet\" type=\"text/css\" href=\"/kinetic/app/thirdparty/datatables-responsive-plugin/dataTables.responsive.custom.css\">-->\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.datatables.net/responsive/2.0.0/css/responsive.dataTables.min.css\">\n\n<!-- DataTables JS-->\n<script type='text/javascript' src='https://cdn.datatables.net/1.10.10/js/jquery.dataTables.js'></script>\n<!--<script type='text/javascript' src=\"/kinetic/app/thirdparty/datatables-responsive-plugin/dataTables.responsive.js\"></script>-->\n<script type='text/javascript' src='https://cdn.datatables.net/responsive/2.0.0/js/dataTables.responsive.min.js'></script>\n\n<style>\n\t.form-group.inline {\n\t\tdisplay: inline;\n\t}\n</style>\n\n<script>\n  \n$(document).ready(function() {  \n\n});\nsearchConfig ={\n    // Example of full configuration of a seach object to return results as a DataTable\n    personSearchBridgeTable:{\n        resource:{\n            name: \"All Submissions by Kapp\",\n        },\n        data: [\n                        { \n                title:\"<input type='checkbox' class='editor-active'>\",    \n                 defaultContent:\"<input type='checkbox' class='editor-active'>\",\n                 class:\"\",\n            },\n          \t{ \n                name: \"id\",\n                title:\"Id\",\n                class: \"all\",\n            },\n          \t{ \n                name: \"Submitted By\",\n                title:\"Submitted By\",\n                class: \"all\",\n            }, \n          \t{ \n                name: \"Submitted At\",\n                title:\"Submitted At\",\n                class: \"hidden\",\n            }, \n          \t{ \n                defaultContent: 'This is static Text',\n                title:\"Static Text\",\n                class: 'hidden',\n            },\n        ],\n        resultsContainerId: 'destinationTable',\n        before: function(configObj){ \n            \n        },\n        success: function (configObj){\n            \n            console.log(this);\n        },\n        successEmpty: function(configObj){\n            //Show Empty Table\n            //KDSearch.Renderers.DataTables(configObj.destination, configObj);\n            console.log(this);\n        },\n        error: function(configObj){\n            \n            console.log(this);\n        },\n        complete: function(configObj){\n            \n            console.log(this);\n        },\n        // Executes on click of element with class of select\n        clickCallback: function(element, results){\n\t\t\t\t\telement.toggleClass('selected');\n        },\n        removeOnClick: false,\n        renderer: {\n            /*type: KDSearch.Renderers.UnorderedList,*/\n            type: KDSearch.Renderers.DataTables, // Passing a function here allows for better customization\n          \toptions: {\n                // Options for Reneder\n              \tprocessSingleResult: false,\n              \t// DataTable OPTIONS; Passing options here make it clear that they are being passed to data tables\n                // responsive: OPTIONAL Default for \"BridgeDataTable\" is true but can be over written.\n                responsive: false,\n                fnFooterCallback: function ( nRow, aaData, iStart, iEnd, aiDisplay ) {\n                    \n                },\n                dom: 'Bfrtip',\n                createdRow: function ( row, data, index ) {\n                        \n                        console.log('row created');\n                },\n                pageLength: 15,\n                paging: false,\n              \tsearching: false,\n              \tinfo: false\n            }\n        },       \n    },\n}\n</script>\n\n","description":"Data Viewer - Two Table Sample","name":"Data Viewer - Two Table Sample","notes":"","pages":[{"advanceCondition":null,"displayCondition":null,"displayPage":null,"elements":[{"type":"section","renderType":null,"name":"Requested For","title":null,"visible":true,"omitWhenHidden":null,"renderAttributes":{"class":"section-requested-for"},"elements":[{"type":"content","renderType":"html","name":"Instructions","text":"<h2>Instructions</h2>\n<p>Move items between the left table to right tables using the \"Add\" and \"Remove\" buttons.  Values in the left (source) table come from submissions of this Form.</p><p>When the request is submitted the data from both tables will be converted to JSON and saved into the \"source-table-json\" and \"destination-table-json\" field.</p>","visible":true,"renderAttributes":{}},{"type":"field","name":"kapp","label":"kapp","key":"f3","defaultValue":"${kapp('slug')}","defaultResourceName":null,"visible":false,"enabled":true,"required":false,"requiredMessage":null,"omitWhenHidden":true,"pattern":null,"constraints":[],"events":[],"renderAttributes":{"class":"inline"},"dataType":"string","renderType":"text","rows":1}]},{"type":"section","renderType":null,"name":"Results Section","title":null,"visible":true,"omitWhenHidden":null,"renderAttributes":{"class":"col-md-12"},"elements":[{"type":"content","renderType":"text","name":"source-table","text":null,"visible":true,"renderAttributes":{"class":"col-md-5"}},{"type":"section","renderType":null,"name":"Buttons","title":null,"visible":true,"omitWhenHidden":null,"renderAttributes":{"class":"col-md-2"},"elements":[{"type":"button","label":"Add >>","name":"add-btn","visible":true,"enabled":true,"renderType":"custom","renderAttributes":{"style":"margin: 40px auto;     display: block;"},"events":[{"name":"Add","type":"Click","action":"Custom","code":"var selectedRows = $('#sourceTable').DataTable().rows('.selected');\n// Add rows to destination table\n$('#destinationTable').DataTable()\n  .rows\n  .add(selectedRows.data())\n  .draw();\n// Remove selected rows form source table\nselectedRows.remove().draw();","runIf":""}]},{"type":"button","label":"<< Remove","name":"remove-btn","visible":true,"enabled":true,"renderType":"custom","renderAttributes":{"style":"margin: 40px auto;     display: block;"},"events":[{"name":"Remove","type":"Click","action":"Custom","code":"var selectedRows = $('#destinationTable').DataTable().rows('.selected');\n// Add rows to destination table\n$('#sourceTable').DataTable()\n  .rows\n  .add(selectedRows.data())\n  .draw();\n// Remove selected rows form source table\nselectedRows.remove().draw();","runIf":""}]}]},{"type":"content","renderType":"html","name":"destination-table","text":null,"visible":true,"renderAttributes":{"class":"col-md-5"}}]},{"type":"section","renderType":null,"name":"JSON Section","title":null,"visible":true,"omitWhenHidden":null,"renderAttributes":{},"elements":[{"type":"field","name":"source-table-json","label":"source-table-json","key":"f4","defaultValue":null,"defaultResourceName":null,"visible":true,"enabled":true,"required":false,"requiredMessage":null,"omitWhenHidden":null,"pattern":null,"constraints":[],"events":[],"renderAttributes":{},"dataType":"string","renderType":"text","rows":8},{"type":"field","name":"destination-table-json","label":"destination-table-json","key":"f5","defaultValue":null,"defaultResourceName":null,"visible":true,"enabled":true,"required":false,"requiredMessage":null,"omitWhenHidden":null,"pattern":null,"constraints":[],"events":[],"renderAttributes":{},"dataType":"string","renderType":"text","rows":8}]},{"type":"button","label":"Next","name":"Submit Button","visible":true,"enabled":true,"renderType":"submit-page","renderAttributes":{"class":"inline"}}],"events":[{"name":"Show Tables","type":"Load","action":"Custom","code":"// Review\nif(K('form').reviewMode() || (K('form').submission().id())){\n   searchConfig.personSearchBridgeTable.response = JSON.parse(K('submission').value('source-table-json'));\n  searchConfig.personSearchBridgeTable.resultsContainerId = \"sourceTable\";\n  KDSearch.renderResults(function(){ return $(K('content[source-table]').element());}, searchConfig.personSearchBridgeTable);\n\n  searchConfig.personSearchBridgeTable.response = JSON.parse(K('submission').value('destination-table-json'));\n  searchConfig.personSearchBridgeTable.resultsContainerId = \"destinationTable\";\n  KDSearch.renderResults(function(){ return $(K('content[destination-table]').element());}, searchConfig.personSearchBridgeTable);\n  \n  \n}\n// Not Review\nelse{  \n   searchConfig.personSearchBridgeTable.response = [];\n  KDSearch.renderResults(function(){ return $(K('content[destination-table]').element());}, searchConfig.personSearchBridgeTable);\n  searchConfig.personSearchBridgeTable.resultsContainerId = \"sourceTable\";\n  KDSearch.executeSearch(function(){ return $(K('content[source-table]').element());}, searchConfig.personSearchBridgeTable);\n}","runIf":""},{"name":"Convert to JSON","type":"Submit","action":"Custom","code":"destinationData = JSON.stringify($('#destinationTable').DataTable().data().toArray());\nK('field[destination-table-json]').value(destinationData);\n\nsourceData = JSON.stringify($('#sourceTable').DataTable().data().toArray());\nK('field[source-table-json]').value(sourceData);"}],"name":"Page 1","renderType":"submittable","type":"page"},{"advanceCondition":null,"displayCondition":"","displayPage":null,"elements":[{"type":"section","renderType":null,"name":"Page 2 Results section","title":null,"visible":true,"omitWhenHidden":null,"renderAttributes":{"class":"col-md-12"},"elements":[{"type":"content","renderType":"html","name":"Review","text":"<div id=\"review\"></div>","visible":true,"renderAttributes":{}}]},{"type":"button","label":"Back","name":"Back","visible":true,"enabled":true,"renderType":"previous-page","renderAttributes":{}},{"type":"button","label":"Submit","name":"Submit Button","visible":true,"enabled":true,"renderType":"submit-page","renderAttributes":{}}],"events":[{"name":"Load Review","type":"Load","action":"Custom","code":"K.load({\n  container: \"#review\",\n  path: bundle.spaceLocation() + '/submissions/' + K('submission').id()+'?review'\n});","runIf":""}],"name":"Page 2","renderType":"submittable","type":"page"}],"securityPolicies":[],"slug":"data-viewer-two-table-sample","status":"New","submissionLabelExpression":"","type":"Service","updatedAt":"2016-09-15T12:38:56.410Z","updatedBy":"bpeterson"}